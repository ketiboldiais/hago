import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { DataTable, DataTableProps } from '../src';
import './assets/style.css';

<Meta title="Plotters/Data Table" component={DataTable} />

# Data Table

Basic tables can be rendered with the `DataTable` component. The `DataTable`'s `data` prop takes a matrix (two-dimensional array), where the first array corresponds to the table's header row, while the remaining arrays correspond to the body rows. For example, passing the following data into the component:

```javascript
<DataTable
  data={[
    ['Test', 'CPU Cycles'],
    ['A', 1005],
    ['B', 1110],
    ['C', 1107],
    ['D', 1111],
    ['E', 1108],
    ['F', 1109],
    ['G', 1113],
    ['H', 1104],
    ['I', 1101],
    ['J', 1099],
  ]}
  include={['mean', 'median', 'min', 'max']}
/>
```

we get the output:

<DataTable
  data={[
    ['Test', 'CPU Cycles'],
    ['A', 1005],
    ['B', 1110],
    ['C', 1107],
    ['D', 1111],
    ['E', 1108],
    ['F', 1109],
    ['G', 1113],
    ['H', 1104],
    ['I', 1101],
    ['J', 1099],
  ]}
  include={['mean', 'median', 'min', 'max']}
/>

Styling the table is left to your CSS stylesheet.

Alternatively, if only the numeric values are pertinent, a single array of numeric values can be passed:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
/>
```

in which case `Hago` will generate a generic table with the headers `x` (corresponding to the datum's index starting at 0) and `y` (the datum):

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
/>

We'll use this shorter syntax for the remaining examples.

## Statistical Analyses

The `output` property provides several options for basic statistical analyses.

The `output` property takes an array of output types, which are either (1) a string, or (2) a string tuple. By default, this property has the value `["raw"]`, generating a table of the data passed as is.

Passing the value `["frequency", 𝑘]`, where 𝑘 is one of the headers, generates a frequency table for the corresponding header.

### Frequency Analysis

For example, writing:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
/>
```

generates a frequency table for the `"Datum"` values:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
/>

### Relative Frequency Analysis

To generate a relative frequency table, pass to the `output` property the value `["relative frequency", 𝑘]` where 𝑘 is one of the headers. For example, writing:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
/>
```

renders the table:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['relative frequency', 'y']]}
/>

### Cumulative Relative Frequency

Passing the option `["cumulative relative frequency", 𝑘]` where 𝑘 is a header will generate a table of the cumulative frequencies. E.g.,

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['cumulative relative frequency', 'y']]}
/>
```

renders:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['cumulative relative frequency', 'y']]}
/>

## Including Single-output Analyses

The `include` property can be passed the following parameters:

- `mean`: includes a separate row containing arithmetic mean, or average, of the last rendered table's 𝑦-values.
- `min`: includes a separate row containing the minimum value of the last rendered table's 𝑦-values.
- `max`: includes a separate row containing the maximum value of the last rendered table's 𝑦-values.
- `median`: includes a separate row containing the median value of the last rendered table's 𝑦-values.

#### Mean

For example, to return the mean of the 𝑦-values, we write:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean']}
/>
```

Rendering:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean']}
/>

#### Max

To return the max of the 𝑦-values, we write:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max']}
/>
```

rendering:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max']}
/>

#### Min

To return the min of the 𝑦-values, we write:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max', 'min']}
/>
```

rendering:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max', 'min']}
/>

#### Median

To return the median of the 𝑦-values, we write:

```javascript
<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max', 'min', 'median']}
/>
```

which results in the table:

<DataTable
  data={[5, 6, 3, 3, 2, 4, 7, 5, 2, 3, 5, 6, 5, 4, 4, 3, 5, 2, 5, 3]}
  output={[['frequency', 'y']]}
  include={['mean', 'max', 'min', 'median']}
/>

### Function Tables

Function tables can be rendered by passing a `FunctionTest` object to the data field. For example, writing:

```javascript
<DataTable
  data={{
    f: [(x) => x ** 2, (x) => x ** 3],
    fLabels: ['f(x) = x^2', 'f(x) = x^3'],
    domain: [-2, 2],
    step: 0.25,
  }}
  latex={true}
/>
```

renders the table:

<DataTable
  data={{
    f: [(x) => x ** 2, (x) => x ** 3],
    fLabels: ['f(x) = x^2', 'f(x) = x^3'],
    domain: [-2, 2],
    step: 0.25,
  }}
  latex={true}
/>
